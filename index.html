<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/png" href="https://img.icons8.com/?size=100&id=uLaytFdQhTaZ&format=png&color=000000">
    <title>Sudeep Portfolio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap');

        :root {
            --primary-color: #00ff41;
            --secondary-color: #00ffff;
            --error-color: #ff5f56;
            --warning-color: #ffbd2e;
            --highlight-color: #ff6b35;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: clamp(12px, 1.5vw, 16px);
        }

        body {
            background: #0a0a0a;
            color: var(--primary-color);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            min-height: 100vh;
            overflow: hidden;
            padding: 0;
            margin: 0;
            position: relative;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }

        /* Hacker mode styles */
        body.hacker-mode {
            background: #000;
            animation: glitch 0.3s infinite;
        }

        body.hacker-mode * {
            text-shadow: 2px 0 #ff0000, -2px 0 #00ffff;
        }

        /* Christmas theme */
        body.christmas-theme {
            --primary-color: #ff0000;
            --secondary-color: #00ff00;
        }

        body.christmas-theme .terminal-window {
            border: 2px solid #ff0000;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
        }

        @keyframes glitch {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-2px); }
            40% { transform: translateX(2px); }
            60% { transform: translateX(-1px); }
            80% { transform: translateX(1px); }
        }

        /* Falling emojis for easter eggs */
        .falling-emoji {
            position: fixed;
            font-size: clamp(16px, 2vw, 20px);
            pointer-events: none;
            z-index: 9999;
            animation: fall 3s linear forwards;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Matrix canvas styling */
        #matrixCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
        }

        /* Snake game canvas styling - responsive */
        #snakeGameCanvas {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #000;
            border: 3px solid var(--primary-color);
            border-radius: 8px;
            z-index: 10001;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            max-width: 90vw;
            max-height: 90vh;
        }

        /* CRT Scan Lines Background Effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(transparent 50%, rgba(0, 255, 65, 0.03) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1;
            animation: scanlines 0.1s linear infinite;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 0%, rgba(0, 255, 65, 0.01) 50%, transparent 100%);
            pointer-events: none;
            z-index: 2;
        }

        @keyframes scanlines {
            0% { transform: translateY(0px); }
            100% { transform: translateY(4px); }
        }

        /* Terminal always full screen */
        .terminal-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw !important;
            height: 100vh !important;
            background: rgba(26, 26, 26, 0.95);
            border-radius: 0;
            border: none;
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.2);
            overflow: hidden;
            z-index: 10;
            backdrop-filter: blur(5px);
            display: flex;
            flex-direction: column;
        }

        .terminal-header {
            background: #333;
            padding: clamp(8px, 2vw, 12px) clamp(12px, 3vw, 20px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #555;
            flex-shrink: 0;
            min-height: 40px;
        }

        .terminal-controls {
            display: flex;
            gap: clamp(4px, 1vw, 8px);
        }

        .control-btn {
            width: clamp(12px, 2vw, 14px);
            height: clamp(12px, 2vw, 14px);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
            touch-action: manipulation;
        }

        .control-btn:hover {
            transform: scale(1.2);
        }

        .control-btn:active {
            transform: scale(1.1);
        }

        .close { background: #ff5f56; }
        .minimize { background: #ffbd2e; }
        .maximize { background: #27ca3f; }

        .terminal-title {
            color: #ccc;
            font-size: clamp(12px, 2vw, 14px);
            font-weight: 600;
        }

        .terminal-body {
            flex: 1;
            padding: clamp(10px, 3vw, 20px);
            background: rgba(10, 10, 10, 0.8);
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .terminal-body::-webkit-scrollbar {
            width: clamp(4px, 1vw, 8px);
        }

        .terminal-body::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }

        .terminal-body::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 65, 0.3);
            border-radius: 4px;
        }

        .terminal-body::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 255, 65, 0.5);
        }

        .ascii-container {
            text-align: center;
            margin-bottom: clamp(15px, 4vw, 30px);
            opacity: 0;
            position: static;
        }

        .ascii-art {
            font-size: clamp(6px, 1.2vw, 10px);
            line-height: 1;
            color: var(--primary-color);
            white-space: pre;
            font-family: 'JetBrains Mono', monospace;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
            position: static;
            overflow: hidden;
            word-break: break-all;
        }

        .ascii-title {
            font-size: clamp(12px, 2.5vw, 16px);
            color: var(--highlight-color);
            margin-top: clamp(10px, 3vw, 20px);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: clamp(1px, 0.3vw, 3px);
            position: static;
        }

        .ascii-subtitle {
            font-size: clamp(10px, 1.8vw, 12px);
            color: var(--secondary-color);
            margin-top: clamp(5px, 1.5vw, 10px);
            font-style: italic;
            position: static;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glowPulse {
            0%, 100% {
                text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
            }
            50% {
                text-shadow: 0 0 20px rgba(0, 255, 65, 0.8), 0 0 30px rgba(0, 255, 65, 0.3);
            }
        }

        .ascii-container.animate {
            animation: fadeInUp 2s ease-out forwards;
        }

        .ascii-art.glow {
            animation: glowPulse 2s ease-in-out infinite;
        }

        .terminal-content {
            position: relative;
        }

        .terminal-output {
            margin-bottom: clamp(10px, 2vw, 20px);
        }

        .terminal-line {
            margin-bottom: clamp(5px, 1vw, 10px);
            line-height: 1.4;
        }

        .prompt {
            color: var(--primary-color);
            margin-right: clamp(4px, 1vw, 8px);
            font-weight: 600;
        }

        .user-input {
            color: #ffffff;
        }

        .command-output {
            color: #cccccc;
            margin-left: clamp(10px, 2vw, 20px);
            margin-bottom: clamp(8px, 1.5vw, 15px);
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .highlight {
            color: var(--highlight-color);
            font-weight: 600;
        }

        .accent {
            color: var(--secondary-color);
        }

        .success {
            color: var(--primary-color);
        }

        .warning {
            color: var(--warning-color);
        }

        .error {
            color: var(--error-color);
        }

        .section-title {
            color: var(--highlight-color);
            font-size: clamp(14px, 2.2vw, 18px);
            font-weight: 700;
            margin: clamp(10px, 2vw, 20px) 0 clamp(5px, 1vw, 10px) 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .skill-tag {
            display: inline-block;
            background: rgba(0, 255, 65, 0.1);
            color: var(--primary-color);
            padding: clamp(2px, 0.5vw, 4px) clamp(4px, 1vw, 8px);
            margin: clamp(1px, 0.3vw, 2px) clamp(2px, 0.5vw, 4px) clamp(1px, 0.3vw, 2px) 0;
            border-radius: 4px;
            font-size: clamp(8px, 1.5vw, 12px);
            border: 1px solid var(--primary-color);
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .skill-tag:hover {
            background: rgba(0, 255, 65, 0.2);
            box-shadow: 0 0 8px rgba(0, 255, 65, 0.4);
        }

        .input-line {
            display: flex;
            align-items: center;
            margin-top: clamp(5px, 1vw, 10px);
            opacity: 0;
            transition: opacity 0.5s ease;
            position: static;
            background: rgba(10, 10, 10, 0.9);
            padding: clamp(5px, 1vw, 10px) 0;
        }

        .input-line.active {
            opacity: 1;
        }

        /* FIXED: Proper thick cursor next to text */
        .terminal-input {
            background: transparent;
            border: none;
            color: #ffffff;
            font-family: inherit;
            font-size: clamp(12px, 2vw, 16px);
            font-weight: 600;
            outline: none;
            flex: 1;
            caret-color: var(--primary-color);
            caret-width: 3px; /* Firefox only - makes cursor thicker */
            touch-action: manipulation;
        }

        .terminal-input::selection {
            background: rgba(0, 255, 65, 0.3);
        }

        .help-command {
            color: var(--secondary-color);
            margin-right: clamp(10px, 2vw, 20px);
        }

        .help-description {
            color: #cccccc;
        }

        .contact-link {
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.3s ease;
            word-break: break-all;
        }

        .contact-link:hover {
            color: var(--highlight-color);
            text-shadow: 0 0 10px var(--highlight-color);
        }

        /* Konami code indicator */
        .konami-indicator {
            position: fixed;
            bottom: clamp(10px, 2vw, 20px);
            right: clamp(10px, 2vw, 20px);
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--primary-color);
            padding: clamp(3px, 1vw, 5px) clamp(5px, 1.5vw, 10px);
            border-radius: 4px;
            font-size: clamp(8px, 1.5vw, 12px);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 9999;
        }

        .konami-indicator.show {
            opacity: 1;
        }

        /* Desktop (1024px - 1439px) */
        @media (max-width: 1439px) and (min-width: 1024px) {
            .ascii-art {
                font-size: 10px;
            }
            .skill-tag {
                font-size: 12px;
                padding: 4px 8px;
            }
        }

        /* Tablet Landscape (768px - 1023px) */
        @media (max-width: 1023px) and (min-width: 768px) {
            .terminal-body {
                padding: 15px;
            }
            .ascii-art {
                font-size: 9px;
            }
            .skill-tag {
                font-size: 11px;
                padding: 3px 6px;
            }
            #snakeGameCanvas {
                width: 350px;
                height: 350px;
            }
        }

        /* Tablet Portrait and Mobile Landscape (480px - 767px) */
        @media (max-width: 767px) and (min-width: 480px) {
            .terminal-body {
                padding: 12px;
            }
            .ascii-art {
                font-size: 8px;
            }
            .skill-tag {
                font-size: 10px;
                padding: 3px 5px;
                margin: 2px 2px 2px 0;
            }
            .input-line {
                padding: 8px 0;
            }
            #snakeGameCanvas {
                width: 300px;
                height: 300px;
            }
        }

        /* Mobile Portrait (up to 479px) */
        @media (max-width: 479px) {
            .terminal-header {
                padding: 8px 12px;
                min-height: 35px;
            }
            .terminal-body {
                padding: 8px;
            }
            .ascii-art {
                font-size: 6px;
                line-height: 0.9;
            }
            .ascii-title {
                font-size: 12px;
                margin-top: 8px;
                letter-spacing: 1px;
            }
            .ascii-subtitle {
                font-size: 9px;
                margin-top: 6px;
            }
            .skill-tag {
                font-size: 9px;
                padding: 2px 4px;
                margin: 1px 1px 1px 0;
            }
            .input-line {
                padding: 6px 0;
            }
            .terminal-input {
                font-size: 14px;
            }
            .command-output {
                margin-left: 10px;
                margin-bottom: 10px;
            }
            .control-btn {
                width: 12px;
                height: 12px;
            }
            #snakeGameCanvas {
                width: 250px;
                height: 250px;
            }
            .konami-indicator {
                bottom: 10px;
                right: 10px;
                padding: 3px 6px;
                font-size: 8px;
            }
        }

        /* Very Small Mobile (up to 320px) */
        @media (max-width: 320px) {
            .terminal-body {
                padding: 6px;
            }
            .ascii-art {
                font-size: 5px;
                line-height: 0.8;
            }
            .ascii-title {
                font-size: 10px;
            }
            .ascii-subtitle {
                font-size: 8px;
            }
            .skill-tag {
                font-size: 8px;
                padding: 1px 3px;
            }
            .command-output {
                margin-left: 8px;
                font-size: 11px;
            }
            #snakeGameCanvas {
                width: 200px;
                height: 200px;
            }
        }

        /* Landscape orientation adjustments */
        @media (orientation: landscape) and (max-height: 600px) {
            .ascii-container {
                margin-bottom: 15px;
            }
            .ascii-art {
                font-size: clamp(4px, 1vw, 8px);
            }
            .terminal-body {
                padding: clamp(5px, 2vw, 15px);
            }
        }

        /* High DPI displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .ascii-art {
                text-rendering: optimizeLegibility;
            }
            .terminal-input {
                font-smoothing: antialiased;
                -webkit-font-smoothing: antialiased;
            }
        }

        /* Touch device optimizations */
        @media (pointer: coarse) {
            .control-btn {
                min-width: 24px;
                min-height: 24px;
            }
            .skill-tag {
                min-height: 24px;
                padding: 4px 8px;
            }
            .terminal-input {
                min-height: 24px;
            }
        }

        /* Dark mode preference */
        @media (prefers-color-scheme: dark) {
            body {
                background: #000000;
            }
            .terminal-window {
                background: rgba(10, 10, 10, 0.98);
            }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            body::before {
                animation: none;
            }
        }

        /* Print styles */
        @media print {
            body::before,
            body::after,
            #matrixCanvas,
            #snakeGameCanvas,
            .falling-emoji {
                display: none !important;
            }
            .terminal-window {
                position: static;
                width: 100%;
                height: auto;
                box-shadow: none;
                border: 1px solid #000;
            }
            .terminal-body {
                overflow: visible;
                height: auto;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-1deg); }
            75% { transform: translateX(5px) rotate(1deg); }
        }
    </style>
</head>
<body>
    <div class="terminal-window">
        <div class="terminal-header">
            <div class="terminal-controls">
                <div class="control-btn close"></div>
                <div class="control-btn minimize"></div>
                <div class="control-btn maximize"></div>
            </div>
            <div class="terminal-title">sudeep@portfolio:~</div>
        </div>
        
        <div class="terminal-body">
            <div class="terminal-content">
                <div class="ascii-container">
                    <div class="ascii-art">
██████╗  ██████╗ ██████╗ ████████╗███████╗ ██████╗ ██╗     ██╗ ██████╗ 
██╔══██╗██╔═══██╗██╔══██╗╚══██╔══╝██╔════╝██╔═══██╗██║     ██║██╔═══██╗
██████╔╝██║   ██║██████╔╝   ██║   █████╗  ██║   ██║██║     ██║██║   ██║
██╔═══╝ ██║   ██║██╔══██╗   ██║   ██╔══╝  ██║   ██║██║     ██║██║   ██║
██║     ╚██████╔╝██║  ██║   ██║   ██║     ╚██████╔╝███████╗██║╚██████╔╝
╚═╝      ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝      ╚═════╝ ╚══════╝╚═╝ ╚═════╝ 
                                                                          
    ███████╗██╗   ██╗██████╗ ███████╗███████╗██████╗                    
    ███════║██║   ██║██╔══██╗██╔════╝██╔════╝██╔══██╗                   
    ███████║██║   ██║██║  ██║█████╗  █████╗  ██████╔╝                   
    ╚════██║██║   ██║██║  ██║██╔══╝  ██╔══╝  ██╔═══╝                    
    ███████║╚██████╔╝██████╔╝███████╗███████╗██║                        
    ╚══════╝ ╚═════╝ ╚═════╝ ╚══════╝╚══════╝╚═╝                        
                    </div>
                    <div class="ascii-title">Technical Program Manager</div>
                    <div class="ascii-subtitle">Initializing portfolio system...</div>
                </div>
                
                <div class="terminal-output" id="output"></div>
                
                <div class="input-line" id="inputLine">
                    <span class="prompt">sudeep@portfolio:~$</span>
                    <input type="text" class="terminal-input" id="commandInput" autocomplete="off" spellcheck="false">
                </div>
            </div>
        </div>
    </div>

    <div class="konami-indicator" id="konamiIndicator">Konami sequence progress...</div>

    <script>
        const commandInput = document.getElementById('commandInput');
        const output = document.getElementById('output');
        const inputLine = document.getElementById('inputLine');
        const asciiContainer = document.querySelector('.ascii-container');
        const asciiArt = document.querySelector('.ascii-art');
        const terminalBody = document.querySelector('.terminal-body');
        
        let commandHistory = [];
        let historyIndex = -1;
        let matrixInterval = null;

        // Console Easter Egg
        console.log(`
%c┌─────────────────────────────────────┐
│  🕵️  You found the hidden console!    │
│  Looking for secrets, eh?             │
│  Try typing 'snake' for a fun game!   │
│  Or try the Konami code: ↑↑↓↓←→←→BA  │
└─────────────────────────────────────┘
`, 'color: #00ff41; font-family: monospace; font-size: 12px;');

        // Snake Game Implementation with responsive canvas
        function startSnakeGame() {
            if (document.getElementById('snakeGameCanvas')) {
                addToOutput(`<div class="command-output"><span class="warning">Snake game is already running! Press ESC to exit the current game first.</span></div>`);
                return;
            }

            const canvas = document.createElement('canvas');
            canvas.id = 'snakeGameCanvas';
            
            // Responsive canvas sizing
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            let canvasSize;
            
            if (screenWidth <= 320) {
                canvasSize = 200;
            } else if (screenWidth <= 480) {
                canvasSize = 250;
            } else if (screenWidth <= 768) {
                canvasSize = 300;
            } else if (screenWidth <= 1024) {
                canvasSize = 350;
            } else {
                canvasSize = 400;
            }
            
            canvas.width = canvasSize;
            canvas.height = canvasSize;
            document.body.appendChild(canvas);

            const ctx = canvas.getContext('2d');
            const gridSize = Math.max(10, canvasSize / 20);
            const tileCount = Math.floor(canvas.width / gridSize);

            let snake = [{x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)}];
            let velocity = {x: 0, y: 0};
            let apple = {x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount)};
            let gameRunning = true;
            let score = 0;

            function gameLoop() {
                if (!gameRunning) return;

                // Move snake
                if (velocity.x !== 0 || velocity.y !== 0) {
                    const head = {x: snake[0].x + velocity.x, y: snake[0].y + velocity.y};

                    // Check wall collisions
                    if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                        gameOver();
                        return;
                    }

                    // Check self collision
                    if (snake.some(part => part.x === head.x && part.y === head.y)) {
                        gameOver();
                        return;
                    }

                    snake.unshift(head);

                    // Check if ate apple
                    if (head.x === apple.x && head.y === apple.y) {
                        score++;
                        // Generate new apple position
                        do {
                            apple = {
                                x: Math.floor(Math.random() * tileCount),
                                y: Math.floor(Math.random() * tileCount)
                            };
                        } while (snake.some(part => part.x === apple.x && part.y === apple.y));
                    } else {
                        snake.pop();
                    }
                }

                draw();
                setTimeout(gameLoop, Math.max(100, 200 - score * 5));
            }

            function draw() {
                // Clear canvas
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Draw snake
                ctx.fillStyle = '#00ff41';
                snake.forEach((part, index) => {
                    if (index === 0) {
                        // Snake head - slightly brighter
                        ctx.fillStyle = '#00ff00';
                    } else {
                        ctx.fillStyle = '#00cc33';
                    }
                    ctx.fillRect(part.x * gridSize, part.y * gridSize, gridSize - 2, gridSize - 2);
                });

                // Draw apple
                ctx.fillStyle = '#ff0000';
                ctx.fillRect(apple.x * gridSize, apple.y * gridSize, gridSize - 2, gridSize - 2);

                // Draw score
                ctx.fillStyle = '#00ff41';
                const fontSize = Math.max(12, canvasSize / 25);
                ctx.font = `${fontSize}px JetBrains Mono`;
                ctx.fillText(`Score: ${score}`, 10, fontSize + 5);

                // Draw instructions if snake hasn't moved
                if (velocity.x === 0 && velocity.y === 0) {
                    ctx.fillStyle = '#00ffff';
                    const instrFontSize = Math.max(10, canvasSize / 30);
                    ctx.font = `${instrFontSize}px JetBrains Mono`;
                    const text1 = 'Use arrow keys to move';
                    const text2 = 'Press ESC to exit';
                    const text1Width = ctx.measureText(text1).width;
                    const text2Width = ctx.measureText(text2).width;
                    ctx.fillText(text1, (canvas.width - text1Width) / 2, canvas.height/2 + 40);
                    ctx.fillText(text2, (canvas.width - text2Width) / 2, canvas.height/2 + 60);
                }
            }

            function gameOver() {
                gameRunning = false;
                
                // Draw game over screen
                ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#ff0000';
                const gameOverFontSize = Math.max(16, canvasSize / 20);
                ctx.font = `bold ${gameOverFontSize}px JetBrains Mono`;
                const gameOverText = 'GAME OVER';
                const gameOverWidth = ctx.measureText(gameOverText).width;
                ctx.fillText(gameOverText, (canvas.width - gameOverWidth) / 2, canvas.height/2 - 20);
                
                ctx.fillStyle = '#00ff41';
                const scoreFontSize = Math.max(12, canvasSize / 25);
                ctx.font = `${scoreFontSize}px JetBrains Mono`;
                const scoreText = `Final Score: ${score}`;
                const scoreWidth = ctx.measureText(scoreText).width;
                ctx.fillText(scoreText, (canvas.width - scoreWidth) / 2, canvas.height/2 + 20);
                
                ctx.fillStyle = '#ffff00';
                const exitFontSize = Math.max(10, canvasSize / 30);
                ctx.font = `${exitFontSize}px JetBrains Mono`;
                const exitText = 'Press ESC to exit';
                const exitWidth = ctx.measureText(exitText).width;
                ctx.fillText(exitText, (canvas.width - exitWidth) / 2, canvas.height/2 + 50);
            }

            function handleKeyPress(e) {
                if (e.key === 'Escape') {
                    gameRunning = false;
                    canvas.remove();
                    window.removeEventListener('keydown', handleKeyPress);
                    addToOutput(`<div class="command-output"><span class="success">🐍 Exited Snake game! Final score: ${score}</span></div>`);
                    commandInput.focus();
                    return;
                }

                if (!gameRunning) return;

                switch(e.key) {
                    case 'ArrowUp':
                        if (velocity.y === 0) velocity = {x: 0, y: -1};
                        break;
                    case 'ArrowDown':
                        if (velocity.y === 0) velocity = {x: 0, y: 1};
                        break;
                    case 'ArrowLeft':
                        if (velocity.x === 0) velocity = {x: -1, y: 0};
                        break;
                    case 'ArrowRight':
                        if (velocity.x === 0) velocity = {x: 1, y: 0};
                        break;
                }
            }

            window.addEventListener('keydown', handleKeyPress);
            gameLoop();

            return `<span class="success">🐍 Snake game started! Use arrow keys to move, ESC to exit.</span>
<span class="accent">Eat the red apples to grow and increase your score!</span>`;
        }

        // Konami Code Implementation
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
        let konamiIndex = 0;
        const konamiIndicator = document.getElementById('konamiIndicator');

        document.addEventListener('keydown', function(e) {
            if (e.code === konamiCode[konamiIndex]) {
                konamiIndex++;
                konamiIndicator.textContent = `Konami progress: ${konamiIndex}/${konamiCode.length}`;
                konamiIndicator.classList.add('show');
                
                if (konamiIndex === konamiCode.length) {
                    triggerKonamiEasterEgg();
                    konamiIndex = 0;
                    setTimeout(() => konamiIndicator.classList.remove('show'), 3000);
                }
            } else {
                konamiIndex = 0;
                konamiIndicator.classList.remove('show');
            }
        });

        function triggerKonamiEasterEgg() {
            addToOutput(`<div class="command-output"><span class="success">🎉 KONAMI CODE ACTIVATED! 🎉</span>
<span class="accent">Secret mode unlocked! All easter eggs revealed:</span>
<span class="warning">Try: snake, matrix, fortune, sudo, hacker, normal, art, sound, dance, coffee, hack</span></div>`);
            
            // Trigger falling emojis
            const emojis = ['🎉', '🎊', '✨', '🎈', '🎁', '🏆', '⭐', '💎'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createFallingEmoji(emojis[Math.floor(Math.random() * emojis.length)]), i * 100);
            }
        }

        function createFallingEmoji(emoji) {
            const emojiEl = document.createElement('div');
            emojiEl.className = 'falling-emoji';
            emojiEl.textContent = emoji;
            emojiEl.style.left = Math.random() * window.innerWidth + 'px';
            emojiEl.style.animationDuration = (2 + Math.random() * 3) + 's';
            document.body.appendChild(emojiEl);
            
            setTimeout(() => emojiEl.remove(), 5000);
        }

        // Seasonal Theme Detection
        function checkSeasonalThemes() {
            const today = new Date();
            const month = today.getMonth();
            const day = today.getDate();
            
            // Christmas theme (December 20-26)
            if (month === 11 && day >= 20 && day <= 26) {
                document.body.classList.add('christmas-theme');
                addToOutput(`<div class="command-output"><span class="success">🎄 Christmas theme activated! Happy Holidays! 🎄</span></div>`);
            }
        }

        // Matrix Rain Effect with responsive sizing
        function startMatrixRain() {
            if (document.getElementById('matrixCanvas')) return;
            
            const canvas = document.createElement('canvas');
            canvas.id = 'matrixCanvas';
            document.body.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const letters = 'アァイィウヴエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲンabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            const fontSize = Math.max(10, Math.min(16, window.innerWidth / 100));
            const columns = Math.floor(canvas.width / fontSize);
            const drops = [];
            
            for (let x = 0; x < columns; x++) {
                drops[x] = 1;
            }
            
            function draw() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#0F0';
                ctx.font = fontSize + 'px monospace';
                
                for (let i = 0; i < drops.length; i++) {
                    const text = letters.charAt(Math.floor(Math.random() * letters.length));
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }
            
            matrixInterval = setInterval(draw, 50);
            
            // Auto-stop after 10 seconds
            setTimeout(() => {
                stopMatrixRain();
            }, 10000);
        }

        function stopMatrixRain() {
            if (matrixInterval) {
                clearInterval(matrixInterval);
                matrixInterval = null;
            }
            const canvas = document.getElementById('matrixCanvas');
            if (canvas) {
                canvas.remove();
            }
        }

        const commands = {
            help: {
                description: "Show available commands",
                execute: () => {
                    return `Available commands:

<span class="help-command">help</span>        <span class="help-description">Show this help message</span>
<span class="help-command">whoami</span>      <span class="help-description">Display user information</span>
<span class="help-command">about</span>       <span class="help-description">Show about me information</span>
<span class="help-command">experience</span>  <span class="help-description">Display work experience</span>
<span class="help-command">skills</span>      <span class="help-description">List technical skills</span>
<span class="help-command">projects</span>    <span class="help-description">Show my projects</span>
<span class="help-command">contact</span>     <span class="help-description">Get contact information</span>
<span class="help-command">all</span>         <span class="help-description">Display entire portfolio</span>
<span class="help-command">clear</span>       <span class="help-description">Clear the terminal</span>
<span class="help-command">history</span>     <span class="help-description">Show command history</span>
<span class="help-command">exit</span>        <span class="help-description">Close the browser tab</span>

<span class="accent">🎁 Try finding some hidden commands... 🕵️</span>

Use arrow keys ↑↓ to navigate command history.`;
                }
            },

            snake: {
                description: "Play the classic Snake game",
                execute: () => {
                    return startSnakeGame();
                }
            },
            
            // Easter Egg Commands
            matrix: {
                description: "Enter the Matrix",
                execute: () => {
                    startMatrixRain();
                    return `<span class="success">Wake up, Neo... 🕶️</span>
<span class="accent">The Matrix rain will run for 10 seconds.</span>`;
                }
            },

            fortune: {
                description: "Get a random motivational quote",
                execute: () => {
                    const quotes = [
                        "Code is poetry written in logic.",
                        "Debugging is like being the detective in a crime movie where you are also the murderer.",
                        "There are only 10 types of people: those who understand binary and those who don't.",
                        "Programming is the art of telling another human what one wants the computer to do.",
                        "First, solve the problem. Then, write the code.",
                        "Any fool can write code that a computer can understand. Good programmers write code that humans can understand.",
                        "Experience is the name everyone gives to their mistakes.",
                        "The best error message is the one that never shows up.",
                        "Simplicity is the ultimate sophistication.",
                        "Talk is cheap. Show me the code."
                    ];
                    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                    return `<span class="success">💫 ${randomQuote}</span>`;
                }
            },

            sudo: {
                description: "Try to gain admin access",
                execute: () => {
                    return `<span class="error">Permission denied.</span> <span class="accent">Nice try though! 😏</span>
<span class="warning">sudeep is not in the sudoers file. This incident will be reported.</span>`;
                }
            },

            hacker: {
                description: "Enable hacker mode",
                execute: () => {
                    document.body.classList.add('hacker-mode');
                    return `<span class="success">H4CK3R M0D3 3N4BL3D</span>
<span class="accent">1337 H4X0R 5K1LL5 4CT1V4T3D! 💀</span>
<span class="warning">Type 'normal' to return to standard mode</span>`;
                }
            },

            normal: {
                description: "Return to normal mode",
                execute: () => {
                    document.body.classList.remove('hacker-mode');
                    return `<span class="accent">Back to normal mode</span>
<span class="success">System restored to standard operation</span>`;
                }
            },

            art: {
                description: "Display random ASCII art",
                execute: () => {
                    const artworks = [
                        `    /\\_/\\  
   ( o.o ) 
    > ^ <  `,
                        `     ___
    (   )
   (  _  )
  (       )
 (         )
(___________)`,
                        `    __
   /  \\
  | () |
   \\__/
    ||
   _||_`,
                        `  /\\_/\\  
 ( ^.^ ) 
  > ^ <`,
                        `    .-""""""-.
  .'          '.
 /   O      O   \\
:           \`    :
|                |
:    .------.    :
 \\  '        '  /
  '.          .'
    '-.......-'`
                    ];
                    const randomArt = artworks[Math.floor(Math.random() * artworks.length)];
                    return `<span class="section-title"># Random ASCII Art</span>

<pre class="success">${randomArt}</pre>`;
                }
            },

            sound: {
                description: "Play a sound effect",
                execute: () => {
                    try {
                        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEcAjyZz/LJ');
                        audio.play().catch(() => {});
                        return `<span class="success">🔊 Beep! Sound effect played!</span>
<span class="accent">Note: Some browsers may block audio without user interaction.</span>`;
                    } catch (e) {
                        return `<span class="warning">🔇 Unable to play sound (audio blocked)</span>`;
                    }
                }
            },

            dance: {
                description: "Make the terminal dance",
                execute: () => {
                    const terminal = document.querySelector('.terminal-window');
                    terminal.style.animation = 'shake 0.5s ease-in-out 3';
                    setTimeout(() => {
                        terminal.style.animation = '';
                    }, 1500);
                    return `<span class="success">💃 *Terminal starts dancing* 🕺</span>
<span class="accent">Shake it like a polaroid picture!</span>`;
                }
            },

            coffee: {
                description: "Brew some coffee",
                execute: () => {
                    return `<span class="warning">☕ Brewing coffee...</span>
<span class="accent">██████████████████████████████ 100%</span>
<span class="success">Your coffee is ready! Perfect fuel for coding sessions.</span>`;
                }
            },

            hack: {
                description: "Initiate hacking sequence",
                execute: () => {
                    return `<span class="error">🚨 HACKING SEQUENCE INITIATED 🚨</span>
<span class="warning">Accessing mainframe...</span>
<span class="accent">Bypassing firewall...</span>
<span class="success">Access granted!</span>
<span class="warning">Just kidding! 😄 This is just a portfolio website.</span>`;
                }
            },

            rainbow: {
                description: "Enable rainbow mode",
                execute: () => {
                    const colors = ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#4b0082', '#9400d3'];
                    let colorIndex = 0;
                    const interval = setInterval(() => {
                        document.documentElement.style.setProperty('--primary-color', colors[colorIndex]);
                        colorIndex = (colorIndex + 1) % colors.length;
                    }, 200);
                    
                    setTimeout(() => {
                        clearInterval(interval);
                        document.documentElement.style.removeProperty('--primary-color');
                    }, 3000);
                    
                    return `<span class="success">🌈 Rainbow mode activated!</span>
<span class="accent">Colors will cycle for 3 seconds</span>`;
                }
            },

            whoami: {
                description: "Display user information",
                execute: () => {
                    return `<span class="highlight">Sudeep</span> - Technical Program Manager
<span class="accent">7+ years of experience</span> in driving technical excellence and project delivery

Status: <span class="success">Available for new opportunities</span>
Location: <span class="accent">Remote-friendly</span>`;
                }
            },

            about: {
                description: "Show about me information",
                execute: () => {
                    return `<span class="section-title"># About Me</span>

Passionate Technical Program Manager with <span class="highlight">7+ years</span> of experience in managing complex technical projects and driving cross-functional teams to success. I specialize in bridging the gap between technical and business stakeholders, ensuring seamless project delivery while maintaining high standards of quality and innovation.

Currently focused on <span class="accent">web development</span> and building innovative solutions that solve real-world problems. I thrive in dynamic environments where I can leverage both my technical background and program management expertise to deliver exceptional results.

<span class="success">Key Strengths:</span>
• Cross-functional team leadership
• Agile & traditional project management
• Technical risk assessment
• Stakeholder communication
• Process optimization`;
                }
            },

            experience: {
                description: "Display work experience", 
                execute: () => {
                    return `<span class="section-title"># Professional Experience</span>

<span class="highlight">Senior Technical Program Manager</span>
<span class="accent">• Leading cross-functional teams of 15+ engineers and designers</span>
• Managed projects with both <span class="success">agile and traditional methods</span>
• Successfully navigated challenges with CTOs and senior leadership  
• Delivered 25+ projects on time and within budget

<span class="highlight">Technical Program Manager</span>
<span class="accent">• Coordinated release cycles for multiple product lines</span>
• Implemented process improvements that reduced delivery time by 30%
• Managed stakeholder communications across engineering, product, and business teams
• Led technical risk assessment and mitigation strategies

<span class="highlight">Project Manager / Technical Lead</span>
<span class="accent">• Started career combining technical expertise with project management</span>
• Developed and maintained project management frameworks
• Mentored junior team members in technical and professional growth
• Built foundation for program management career trajectory`;
                }
            },

            skills: {
                description: "List technical skills",
                execute: () => {
                    const skills = [
                        'Program Management', 'Agile/Scrum', 'Project Planning', 'Risk Management', 
                        'Stakeholder Management', 'Web Development', 'HTML/CSS/JavaScript', 
                        'Technical Documentation', 'Process Improvement', 'Cross-functional Leadership',
                        'Strategic Planning', 'Quality Assurance', 'Budget Management'
                    ];
                    
                    const skillTags = skills.map(skill => 
                        `<span class="skill-tag">${skill}</span>`
                    ).join(' ');
                    
                    return `<span class="section-title"># Technical Skills</span>

${skillTags}

<span class="accent">Specializations:</span>
• Technical Program Management
• Agile Project Delivery
• Cross-functional Team Leadership
• Web Development & UI/UX`;
                }
            },

            projects: {
                description: "Show my projects",
                execute: () => {
                    return `<span class="section-title"># Key Projects</span>

<span class="highlight">Interactive Terminal Portfolio</span>
<span class="accent">Building a personal website with interactive terminal interface</span>
Technologies: HTML, CSS, JavaScript, Terminal UI
Features: Command-line interaction, CRT effects, responsive design

<span class="highlight">Enterprise Project Management Platform</span>
<span class="accent">Led the development of a comprehensive project tracking system</span>
Team Size: 12 engineers, 3 designers, 2 product managers
Impact: Improved project visibility by 85% across organization

<span class="highlight">Cross-Platform Release Management</span>
<span class="accent">Coordinated simultaneous releases across mobile and web platforms</span>
Challenge: Managing dependencies and timeline coordination
Result: Delivered 15 major releases with 99.2% uptime

<span class="success">Want to see more?</span> Check out my GitHub or contact me!`;
                }
            },

            contact: {
                description: "Get contact information",
                execute: () => {
                    return `<span class="section-title"># Get In Touch</span>

<span class="accent">LinkedIn:</span> <a href="https://www.linkedin.com/in/19sv/" class="contact-link">linkedin.com/in/19sv</a>
<span class="accent">Email:</span> <a href="mailto:vsudeep2@gmail.com" class="contact-link">vsudeep2@gmail.com</a>
<span class="accent">GitHub:</span> <a href="#" class="contact-link">github.com/sudeep</a>
<span class="accent">Location:</span> <span class="success">Available for remote and on-site opportunities</span>

<span class="warning">Always open to discussing exciting technical program management opportunities!</span>

<span class="success">📧 Feel free to reach out - I'd love to connect!</span>`;
                }
            },

            all: {
                description: "Display entire portfolio",
                execute: () => {
                    const sections = ['whoami', 'about', 'experience', 'skills', 'projects', 'contact'];
                    const allContent = sections.map(section => commands[section].execute()).join('\n\n');
                    
                    return `<span class="section-title">🚀 COMPLETE PORTFOLIO OVERVIEW</span>

${allContent}

<br><br><span class="success">═══════════════════════════════════════</span>
<span class="accent">💡 End of Portfolio Display</span>
<span class="success">═══════════════════════════════════════</span>`;
                }
            },

            clear: {
                description: "Clear the terminal",
                execute: () => {
                    output.innerHTML = '';
                    return null;
                }
            },

            history: {
                description: "Show command history",
                execute: () => {
                    if (commandHistory.length === 0) {
                        return '<span class="warning">No commands in history.</span>';
                    }
                    return `<span class="section-title"># Command History</span>

${commandHistory.map((cmd, index) => `${index + 1}. ${cmd}`).join('\n')}`;
                }
            },

            exit: {
                description: "Close the browser tab",
                execute: () => {
                    setTimeout(() => {
                        window.close();
                        setTimeout(() => {
                            if (!window.closed) {
                                addToOutput(`<div class="command-output"><span class="warning">⚠️ Unable to close tab automatically due to browser security restrictions.</span>
<span class="accent">Please close this tab manually using Ctrl+W or Cmd+W.</span></div>`);
                            }
                        }, 100);
                    }, 1000);
                    
                    return `<span class="success">👋 Goodbye! Thanks for visiting my portfolio.</span>
<span class="accent">Closing terminal session...</span>`;
                }
            }
        };

        async function animateASCIIArt() {
            return new Promise((resolve) => {
                asciiContainer.classList.add('animate');
                
                setTimeout(() => {
                    asciiArt.classList.add('glow');
                    setTimeout(() => {
                        resolve();
                    }, 3000);
                }, 2000);
            });
        }

        commandInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const command = this.value.trim().toLowerCase();
                
                if (command) {
                    commandHistory.push(command);
                    historyIndex = commandHistory.length;
                    
                    addToOutput(`<span class="prompt">sudeep@portfolio:~$</span> <span class="user-input">${command}</span>`);
                    executeCommand(command);
                    this.value = '';
                }
                
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    this.value = commandHistory[historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    this.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    this.value = '';
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                autocomplete(this.value);
            }
        });

        function executeCommand(command) {
            const cmd = commands[command];
            
            if (cmd) {
                const result = cmd.execute();
                if (result) {
                    addToOutput(`<div class="command-output">${result}</div>`);
                }
            } else if (command === '') {
                return;
            } else {
                addToOutput(`<div class="command-output"><span class="error">Command not found: ${command}</span>
Type <span class="accent">'help'</span> to see available commands.</div>`);
            }
            
            terminalBody.scrollTo({
                top: terminalBody.scrollHeight,
                behavior: 'smooth'
            });
        }

        function addToOutput(html) {
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = html;
            output.appendChild(line);
        }

        function autocomplete(partial) {
            const matches = Object.keys(commands).filter(cmd => 
                cmd.startsWith(partial.toLowerCase())
            );
            
            if (matches.length === 1) {
                commandInput.value = matches;
            } else if (matches.length > 1) {
                addToOutput(`<div class="command-output"><span class="accent">Available commands:</span> ${matches.join(', ')}</div>`);
            }
        }

        async function initializeTerminal() {
            await animateASCIIArt();
            inputLine.classList.add('active');
            commandInput.focus();
            
            setTimeout(() => {
                checkSeasonalThemes();
                addToOutput(`<div class="command-output"><span class="accent">💡 Portfolio system loaded!</span> Type <span class="success">'help'</span> to explore commands</div>`);
            }, 500);
        }

        // Responsive canvas resize handler
        window.addEventListener('resize', function() {
            const matrixCanvas = document.getElementById('matrixCanvas');
            if (matrixCanvas) {
                matrixCanvas.width = window.innerWidth;
                matrixCanvas.height = window.innerHeight;
            }
        });

        window.addEventListener('load', () => {
            initializeTerminal();
        });

        // Improved focus management for mobile
        document.addEventListener('click', (e) => {
            if (!e.target.closest('canvas') && !e.target.closest('.control-btn')) {
                commandInput.focus();
            }
        });

        // Touch event handling for mobile devices
        document.addEventListener('touchstart', function(e) {
            if (!e.target.closest('canvas') && !e.target.closest('.control-btn')) {
                commandInput.focus();
            }
        });

        // Control buttons with easter egg interactions
        document.querySelectorAll('.control-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.classList.contains('close')) {
                    addToOutput(`<div class="command-output"><span class="success">Thanks for visiting my portfolio! 👋</span></div>`);
                } else if (this.classList.contains('minimize')) {
                    document.querySelector('.terminal-window').style.transform = 'scale(0.1)';
                    setTimeout(() => {
                        document.querySelector('.terminal-window').style.transform = 'scale(1)';
                    }, 1000);
                } else if (this.classList.contains('maximize')) {
                    const terminalWindow = document.querySelector('.terminal-window');
                    terminalWindow.style.opacity = '0.8';
                    setTimeout(() => {
                        terminalWindow.style.opacity = '1';
                    }, 200);
                }
            });
        });

        // Click easter eggs - spawn emojis on random clicks
        let clickCount = 0;
        document.addEventListener('click', function(e) {
            clickCount++;
            if (clickCount % 10 === 0) { // Every 10th click
                const emoji = ['✨', '💫', '⭐', '🌟'][Math.floor(Math.random() * 4)];
                const sparkle = document.createElement('div');
                sparkle.textContent = emoji;
                sparkle.style.position = 'fixed';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.fontSize = '20px';
                sparkle.style.zIndex = '9999';
                sparkle.style.animation = 'fadeOut 1s ease-out forwards';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1000);
            }
        });

        // Add CSS for fade out animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                0% { opacity: 1; transform: scale(1); }
                100% { opacity: 0; transform: scale(2) translateY(-20px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
